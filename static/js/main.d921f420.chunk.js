(this["webpackJsonpVIM-test"]=this["webpackJsonpVIM-test"]||[]).push([[0],{119:function(e,t,a){},130:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),c=a(15),o=a.n(c),s=(a(119),a(22)),r=a.n(s),l=a(40),d=a(6),u=a(94),b=a(215),j=a(216),h=a(68),f=a(18),x=a(80),p=a(27),O=a(28),m={FRONTEND_VERSION:"1.0.0b2",SERVER_VERSION_COMPATABILITY:[""],VERSION_CHECK_ENABLED:!0,WEBSOCKET_URL:"ws://localhost:8765",SOCKET_RETRY_THRESHOLD:5,WEIGHT_INTERVALS:10,BYPASS_ONBOARDING:!1,NAVIGATION_ENABLED:!1,ENABLED_PAGES:{collection:!0,buddies:!1}},g="";var v=function(){function e(){Object(p.a)(this,e),this.socket=null,this.subscriptions={},this.listening=!1}return Object(O.a)(e,[{key:"connect",value:function(){var e=Object(l.a)(r.a.mark((function e(){var t=this;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.listening=!1,e.abrupt("return",new Promise((function(e,a){if(null!==t.socket&&(null===t.socket||1===t.socket.readyState))return e();try{console.log("connecting"),t.socket=new WebSocket(m.WEBSOCKET_URL),console.log(t.socket),t.socket.onerror=function(e){return console.log(e),y=null,a()},t.socket.onopen=function(a){return console.log("opened"),console.log(t.socket),t.messageHandler(),e()}}catch(n){return console.log("rip"),t.socket=null,a()}})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"send",value:function(){var e=Object(l.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this.socket)try{this.socket.send(JSON.stringify(t))}catch(a){console.log("you fucking moron this state should never occur")}case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"request",value:function(){var e=Object(l.a)(r.a.mark((function e(t,a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===this.socket){e.next=12;break}e.prev=1,this.socket.send(JSON.stringify(t)),e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(1),console.log("you fucking moron this state should never occur"),e.abrupt("return",!1);case 9:this.subscribe(t.request,a,!0),e.next=13;break;case 12:return e.abrupt("return",!1);case 13:case"end":return e.stop()}}),e,this,[[1,5]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"subscribe",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"message";void 0===this.subscriptions[e]&&(this.subscriptions[e]=[]);var i=!1;for(var c in this.subscriptions[e])c.callback===t&&(i=!0);console.log("existing for ".concat(e,": ").concat(i)),!1===i&&this.subscriptions[e].push({callback:t,removable:a,type:n})}},{key:"unsubscribe",value:function(e,t){void 0!==this.subscriptions[e]&&(this.subscriptions[e]=this.subscriptions[e].filter((function(e){return e.callback!==t}))),0===this.subscriptions[e].length&&delete this.subscriptions[e]}},{key:"messageHandler",value:function(){var e=this;this.listening||(this.listening=!0,this.socket.onmessage=function(){var t=Object(l.a)(r.a.mark((function t(a){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=JSON.parse(a.data),console.log(n),Object.keys(e.subscriptions).forEach((function(t){if(n.event===t){var a,i=Object(x.a)(e.subscriptions[t]);try{for(i.s();!(a=i.n()).done;){var c=a.value;"message"===c.type&&(c.callback(n.data),c.removable&&e.unsubscribe(t,c.callback))}}catch(o){i.e(o)}finally{i.f()}}}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.socket.onclose=function(){var t=Object(l.a)(r.a.mark((function t(a){var n,i,c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log("closed"),n=Object(x.a)(e.subscriptions.onclose);try{for(n.s();!(i=n.n()).done;)c=i.value,console.log(c),"onclose"===c.type&&(c.callback(),c.removable&&e.unsubscribe("onclose",c.callback))}catch(a){n.e(a)}finally{n.f()}case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}}]),e}(),y=new v,w=y,k=a(161),S=a(20),C=a(133),N=a(99),_=a(176),I=a(59),D=a(168),E=a(220),A=a(163),L=a(177),T=a(178),B=a(179),R=a(180);var G=a(29),V=a(175),W=a(221),F=a(165),q=a(222),z=a(218),P=a(171),M=a(224),H=a(100),U=a(172),Y=a(173),J=a(174),K=a(1),X=Object(k.a)((function(e){return{root:{width:"100%",height:"100%",display:"flex",justifySelf:"flex-start",justifyContent:"center",alignContent:"flex-start",flexWrap:"wrap",overflow:"auto","&::-webkit-scrollbar":{width:4},"&::-webkit-scrollbar-track":{boxShadow:"inset 0 0 6px rgba(0, 0, 0, 0.3)"},"&::-webkit-scrollbar-thumb":{backgroundColor:"darkgrey",outline:"1px solid slategrey",backgroundClip:"padding-box"}},header:{display:"flex",flexDirection:"row",justifyContent:"flex-start",alignContent:"center",width:"100%",height:"75px",margin:"0px 20px 10px 20px",backgroundColor:"#424242",paddingTop:"0px",position:"sticky",top:0,zIndex:3},closeButton:{width:"40px",height:"40px",alignSelf:"center",justifySelf:"flex-end",marginRight:"0px"},body:{width:"95%",alignSelf:"center",display:"flex",flexDirection:"column",alignContent:"flex-start",justifyContent:"flex-start",overflowY:"auto"},section:{width:"98%",display:"flex",flexDirection:"column",flexGrow:1,alignSelf:"center",marginBottom:"10px"},sectionHeader:{marginBottom:"8px",fontSize:"1.5rem"},variable:{width:"100%",display:"flex",flexDirection:"row",marginBottom:"10px"},variableName:{fontSize:"1.2rem",flexGrow:1},descriptor:{width:"75%"},selector:{width:"25%",display:"flex",flexDirection:"row",justifySelf:"flex-end",flexGrow:1,justifyContent:"center",alignItems:"center"}}}));function Q(e){var t=X(),a=(Object(S.a)(),e.config),i=e.updateConfig,c=e.section,o=e.itemKey,s=e.data,r=Object(n.useState)(s.value),l=Object(d.a)(r,2),u=l[0],b=l[1],j=Object(n.useState)(!1),h=Object(d.a)(j,2);h[0],h[1];return Object(K.jsxs)("div",{className:t.variable,children:[Object(K.jsxs)("div",{className:t.descriptor,children:[Object(K.jsx)(I.a,{variant:"subtitle1",className:t.variableName,style:{height:void 0!==s.description?"auto":"100%",lineHeight:1.5,margin:"auto",marginBottom:"5px"},children:void 0!==s.display?s.display:o}),void 0!==s.description?Object(K.jsx)(I.a,{variant:"body1",style:{marginLeft:"20px"},children:s.description}):null]}),Object(K.jsx)("div",{className:t.selector,children:function(){switch(void 0===s.attrs&&(s.attrs=[]),s.type){case"bool":return Object(K.jsx)(W.a,{color:"primary",checked:u,onClick:function(e){b(e.target.checked),a[c].settings[o].value=e.target.checked,i(Object(G.a)({},a))},disabled:s.attrs.includes("locked")});case"list_selection":return Object(K.jsxs)(F.a,{style:{width:"100%"},children:[Object(K.jsx)(q.a,{id:o,style:{width:"100%"},children:s.display}),Object(K.jsx)(z.a,{value:u,onChange:function(e){b(e.target.value),a[c].settings[o].value=e.target.value,i(Object(G.a)({},a))},disabled:s.attrs.includes("locked"),children:s.options.map((function(e,t){return Object(K.jsx)(P.a,{value:e,children:e},e)}))})]});case"string":return Object(K.jsx)("div",{className:t.selector,style:{width:"35%",marginLeft:"2%"},children:Object(K.jsx)(M.a,{id:o,label:s.display,defaultValue:s.value,disabled:s.attrs.includes("locked"),onChange:function(e){b(e.target.value),a[c].settings[o].value=e.target.value,i(Object(G.a)({},a))},variant:"standard",style:{width:"100%"}})});default:return null}}()})]})}var Z=function(e){var t=X(),a=Object(S.a)(),i=Object(n.useState)(null),c=Object(d.a)(i,2),o=c[0],s=c[1],r=Object(n.useState)(!1),l=Object(d.a)(r,2),u=l[0],b=l[1];function j(){console.log("saving"),b(!0),w.request({request:"update_config",args:{new_config:o}},(function(){e.close(!1)}))}return Object(n.useEffect)((function(){!function(){function e(e){console.log(e),s(e)}w.request({request:"fetch_config"},e)}()}),[]),Object(n.useEffect)((function(){console.log(o),b(!1)}),[o]),Object(n.useEffect)((function(){!0===e.saveTrigger&&j()}),[e.saveTrigger]),Object(K.jsxs)("div",{className:t.root,children:[e.showHeader?Object(K.jsxs)("div",{className:t.header,children:[Object(K.jsx)(I.a,{variant:"h4",style:{color:a.palette.primary.light,fontSize:"2.2rem",flexGrow:1,margin:"auto"},children:"Settings"}),Object(K.jsx)(A.a,{"aria-label":"randomize","aria-controls":"menu-appbar","aria-haspopup":"true",edge:"end",color:"inherit",className:t.closeButton,onClick:j,disabled:null===o||u,children:Object(K.jsx)(J.a,{})})]}):null,null!==o?Object(K.jsx)(Y.a,{maxWidth:"xl",className:t.body,children:Object.keys(o).map((function(e){return function(e,a){return Object(K.jsx)(H.a,{in:!0,children:Object(K.jsxs)("div",{className:t.section,children:[Object(K.jsx)(I.a,{variant:"h6",className:t.sectionHeader,children:a.display}),Object.keys(a.settings).map((function(t){var n=a.settings[t];return Object(K.jsx)(Q,{itemKey:t,data:n,config:o,updateConfig:s,section:e},t)})),Object(K.jsx)(U.a,{style:{margin:"10px 10px"}})]})})}(e,o[e])}))}):null]})},$=Object(k.a)((function(e){return{backdrop:{display:"flex",alignItems:"center",justifyContent:"center"},mainPaper:{margin:"auto",width:"40%",height:"70vh",minWidth:"450px",maxWidth:"600px",display:"flex",justifySelf:"flex-start",justifyContent:"center",alignContent:"flex-start",flexWrap:"wrap",overflow:"auto"}}})),ee=Object(n.forwardRef)((function(e,t){return Object(K.jsx)(C.a,Object(G.a)({direction:"up",ref:t},e))}));var te=function(e){return $(),Object(S.a)(),Object(K.jsx)(V.a,{fullScreen:!0,open:e.open,TransitionComponent:ee,onClose:e.handleClose,children:Object(K.jsx)(Z,{close:e.close,showHeader:!0})})},ae=Object(k.a)((function(e){return{"@global":{"@keyframes spin":{"0%":{transform:"rotate(-360deg)"},"100%":{transform:"rotate(0deg)"}}},appBar:{margin:"12px",display:"flex",flexDirection:"column",height:"50px",zIndex:2,backgroundColor:"rgba(0, 0, 0, 0)",border:"0px rgb(255,255,255) solid"},statusBar:{alignSelf:"center",justifySelf:"center",display:"flex",marginRight:e.spacing(1),flexGrow:1},inGameIndicator:{alignSelf:"center",color:"#9de069"},action:{width:"40px",height:"40px",margin:e.spacing(.25)},loading:{animation:"spin 4s linear infinite"}}}));var ne=function(e){var t=ae(),a=Object(S.a)(),c=i.a.useState(!1),o=Object(d.a)(c,2),s=o[0],u=o[1],b=i.a.useState(!1),j=Object(d.a)(b,2),h=j[0],f=j[1],x=i.a.useState(!1),p=Object(d.a)(x,2),O=p[0],m=p[1];function g(){return(g=Object(l.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=function(e){u(!1)},u(!0),w.request({request:"randomize_skins"},t);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){w.subscribe("game_state",(function(e){f(e.state)})),w.send({request:"force_update_game_state"})}),[]),Object(K.jsxs)(K.Fragment,{children:[Object(K.jsx)(te,{open:O,close:m}),Object(K.jsx)(C.a,{direction:"down",in:!0,children:Object(K.jsx)(N.a,{variant:"outlined",className:t.appBar,position:"static",children:Object(K.jsxs)(_.a,{style:{height:"100%",width:"100%"},children:[Object(K.jsx)(I.a,{variant:"h5",style:{flexGrow:0,marginRight:a.spacing(2)},children:"VIM"}),Object(K.jsx)("div",{className:t.statusBar,children:Object(K.jsx)(D.a,{in:h,children:Object(K.jsx)(E.a,{title:"In game",children:Object(K.jsx)(L.a,{className:t.inGameIndicator})})})}),Object(K.jsxs)("div",{className:t.actions,children:[Object(K.jsx)(A.a,{"aria-label":"randomize","aria-controls":"menu-appbar","aria-haspopup":"true",edge:"end",onClick:s?null:function(){return g.apply(this,arguments)},color:"inherit",className:t.action,size:"medium",children:s?Object(K.jsx)(T.a,{className:t.loading}):Object(K.jsx)(B.a,{})}),Object(K.jsx)(A.a,{"aria-label":"settings button lol","aria-controls":"menu-appbar","aria-haspopup":"true",edge:"end",color:"inherit",className:t.action,onClick:function(){return m(!0)},children:Object(K.jsx)(R.a,{})})]})]})})})]})},ie=Object(k.a)((function(e){return{footer:{alignSelf:"flex-end",justifySelf:"flex-end",height:"50px",width:"100%",padding:"10px",display:"flex",flexDirection:"row"},versionText:{alignSelf:"flex-end",width:"50%",display:"flex",flexDirection:"row",justifyContent:"flex-end",alignItems:"center",flexGrow:1,opacity:.5}}}));var ce=function(e){var t=ie();return Object(S.a)(),Object(K.jsx)(K.Fragment,{children:Object(K.jsx)("div",{className:t.footer,children:Object(K.jsx)("div",{className:t.versionText,children:Object(K.jsxs)(I.a,{variant:"subtitle2",children:["client v",m.FRONTEND_VERSION," / companion v",g]})})})})},oe=a(101),se=a(201),re=a(230),le=a(181),de=Object(k.a)((function(e){return{}}));var ue=function(e){de(),Object(S.a)();var t=e.selectedChromaIndex,a=Object.keys(e.levelData).length.toString(),i=Object(n.useState)(e.selectedLevelIndex.toString()),c=Object(d.a)(i,2),o=c[0],s=c[1];return Object(n.useEffect)((function(){if(1!==t&&o!==a){s(a);var n=Object.values(e.levelData)[a-1];e.setter(n)}}),[t]),Object(n.useEffect)((function(){s(e.selectedLevelIndex.toString())}),[e.selectedLevelIndex]),"1"!==a?Object(K.jsx)("div",{style:{width:"50%",display:"flex",flexDirection:"row",justifyContent:"flex-start",height:"45px"},children:Object(K.jsx)(re.a,{value:o,exclusive:!0,onChange:function(t,a){if(null!==a){s(a);var n=Object.values(e.levelData)[a-1];e.setter(n)}},"aria-label":"chroma level",style:{width:"90%",height:"95%"},children:Object.keys(e.levelData).map((function(n){var i=e.levelData[n],c=i.index.toString();return Object(K.jsx)(E.a,{title:i.level_type,disabled:!i.unlocked||!(1===t&&1!==c)&&c!==a,arrow:!0,children:Object(K.jsx)(le.a,{selected:o===c,value:c,"aria-label":i.index,style:{border:i.favorite?"1px #996D2D solid":null},children:i.shorthand_display_name})},i.display_name)}))})}):null},be=Object(k.a)((function(e){return{}}));var je=function(e){be(),e.selectedLevelIndex;var t=Object.keys(e.chromaData).length.toString(),a=(Object.keys(e.levelData).length.toString(),Object(n.useState)(e.selectedChromaIndex.toString())),i=Object(d.a)(a,2),c=i[0],o=i[1];return Object(n.useEffect)((function(){o(e.selectedChromaIndex.toString())}),[e.selectedChromaIndex]),"1"!==t?Object(K.jsx)("div",{style:{flexGrow:1,width:"50%",display:"flex",flexDirection:"row",justifyContent:"flex-end",height:"45px"},children:Object(K.jsx)(re.a,{value:c,exclusive:!0,onChange:function(t,a){if(null!==a){o(a);var n=Object.values(e.chromaData)[a-1];e.setter(n)}},"aria-label":"skin level",style:{width:"90%",height:"95%",justifyContent:"flex-end",marginLeft:0},children:Object.keys(e.chromaData).map((function(t){var a=e.chromaData[t],n=a.index.toString();return null!==a.swatch_icon?Object(K.jsx)(E.a,{title:a.unlocked?a.favorite?"Favorited - ".concat(a.display_name):a.display_name:"".concat(a.display_name," (Locked)"),disabled:!a.unlocked,arrow:!0,children:Object(K.jsx)(le.a,{selected:c===n,value:n,"aria-label":a.index,style:{border:a.favorite?"1px #996D2D solid":null},children:Object(K.jsx)("img",{alt:a.display_name,src:a.swatch_icon,style:{width:"25px",height:"auto",filter:a.unlocked?"":"grayscale(90%)"}})})},a.display_name):null}))})}):null},he=Object(k.a)((function(e){return{weaponPaper:{width:"100%",height:"75px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",transition:"0.1s ease-out !important","&:hover":{border:"1px ".concat(e.palette.primary.main," solid")}},container:{width:"93%",height:"90%",display:"flex"},tierImage:{height:"25px",alignSelf:"flex-end",margin:"3px 3px",position:"relative",bottom:"-2px",objectFit:"contain",objectPosition:"left center"},favoriteButton:{alignSelf:"flex-end",right:"2px",height:"25px",objectPosition:"center center"}}}));var fe=function(e){var t=he(),a=Object(S.a)(),i=e.skinData,c="2f59173c-4bed-b6c3-2191-dea9b58be9c7"===e.weaponData.uuid,o=e.skinData.favorite,s=Object(n.useState)(i.uuid===e.selected.uuid),r=Object(d.a)(s,2),l=r[0],u=r[1],b=Object(n.useState)(!1),j=Object(d.a)(b,2),h=j[0],f=j[1];return Object(n.useEffect)((function(){e.selected.uuid===i.uuid?u(!0):u(!1)}),[e.selected]),Object(K.jsx)(N.a,{variant:"outlined",className:t.weaponPaper,onClick:function(){e.equip(i.uuid)},style:{border:o&&!h?"1px ".concat(a.palette.warning.light," solid"):l?"1px ".concat(a.palette.primary.light," solid"):null},onMouseEnter:function(){return f(!0)},onMouseLeave:function(){return f(!1)},children:Object(K.jsx)("div",{className:t.container,style:{backgroundImage:"url(".concat(i.display_icon,")"),backgroundSize:c?"auto 87%":"contain",backgroundRepeat:"no-repeat",backgroundPosition:"50% 50%",flexDirection:c?"column":"row",justifyContent:c?"flex-end":null},children:Object(K.jsx)("img",{alt:i.content_tier.display_name,src:i.content_tier.display_icon,className:t.tierImage,style:{left:c?"6px":"-6px"}})})})},xe=a(182),pe=a(183),Oe=a(184),me=a(185),ge=a(186),ve=Object(k.a)((function(e){return{"@global":{"@keyframes spin":{"0%":{transform:"rotate(-360deg)"},"100%":{transform:"rotate(0deg)"}}},header:{width:"auto",display:"flex",marginTop:"15px",flexWrap:"wrap",flexDirection:"row-reverse"},headerButton:{marginLeft:e.spacing(.25)},loading:{animation:"spin 4s linear infinite"}}}));var ye=function(e){var t=ve(),a=(Object(S.a)(),e.selectedSkinData),n=e.inventoryWeaponData,i=e.saving,c=e.saveCallback,o=e.isFavorite,s=e.favoriteCallback,r=e.isLocked,l=e.lockCallback,d=e.weightCallback;return Object(K.jsxs)("div",{className:t.header,children:[Object(K.jsxs)("div",{style:{display:"flex",order:2,flexGrow:1},children:[Object(K.jsx)("div",{style:{width:"auto",alignSelf:"center"},children:"Standard"!==a.content_tier.dev_name?Object(K.jsx)("img",{alt:a.content_tier.dev_name,src:a.content_tier.display_icon,style:{width:"auto",height:"40px",justifySelf:"center",marginRight:"10px"}}):null}),Object(K.jsxs)("div",{children:[Object(K.jsx)(I.a,{variant:"h5",children:a.display_name}),Object(K.jsxs)(I.a,{variant:"overline",children:["Battlepass"!==a.content_tier.dev_name?a.content_tier.dev_name:"Unlockable"," ",n.display_name," ",a.favorite?"// ".concat(Math.round(a.weight/n.total_weights*100),"% CHANCE (").concat(a.weight,"/").concat(n.total_weights,")"):null]})]})]}),Object(K.jsxs)("div",{style:{flexGrow:1,display:"flex",justifyContent:"flex-end"},children:[Object(K.jsx)(D.a,{in:o,mountOnEnter:!0,unmountOnExit:!0,children:Object(K.jsx)(E.a,{title:"Set randomizer weight",className:t.headerButton,children:Object(K.jsx)(A.a,{onClick:function(){d(!0)},style:{height:"40px",width:"40px"},children:Object(K.jsx)(xe.a,{})})})}),Object(K.jsx)(E.a,{title:o?"Remove skin from favorites":"Add skin to favorites",className:t.headerButton,children:Object(K.jsx)(A.a,{onClick:s,style:{height:"40px",width:"40px"},children:o?Object(K.jsx)(pe.a,{}):Object(K.jsx)(Oe.a,{})})}),Object(K.jsx)(U.a,{orientation:"vertical",variant:"middle",style:{height:"40px"}}),Object(K.jsx)(E.a,{title:r?"Unlock weapon from randomization":"Lock weapon from randomization",className:t.headerButton,children:Object(K.jsx)(A.a,{onClick:l,style:{height:"40px",width:"40px"},children:r?Object(K.jsx)(me.a,{}):Object(K.jsx)(ge.a,{})})}),Object(K.jsx)(E.a,{title:"Save",className:t.headerButton,children:Object(K.jsx)(A.a,{onClick:c,style:{height:"40px",width:"40px"},children:i?Object(K.jsx)(T.a,{className:t.loading}):Object(K.jsx)(J.a,{})})})]})]})},we=a(187),ke=a(188),Se=a(189),Ce=a(190),Ne=a(191),_e=a(192),Ie=a(193),De=a(194),Ee=a(195),Ae=Object(k.a)((function(e){return{selectedActions:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",marginTop:"10px",marginLeft:"10px",padding:"2px",transition:"all .2s ease !important"},previewAction:{height:"35px",width:"35px",alignSelf:"center",margin:e.spacing(.25),transition:"all .2s ease !important"},previewActionIcon:{width:"20px",height:"20px"}}}));var Le=function(e){var t=Ae(),a=(Object(S.a)(),e.hasAlternateMedia),n=e.showingVideo,i=e.changeVideoStateCallback,c=e.showingControls,o=e.changeControlsStateCallback,s=e.isFavoriteLevel,r=e.isFavoriteChroma,l=e.toggleFavoriteLevelCallback,d=e.toggleFavoriteChromaCallback,u=e.canFavoriteLevel,b=e.canFavoriteChroma,j=a||u||b;return Object(K.jsx)(K.Fragment,{children:Object(K.jsx)(D.a,{in:j,mountOnEnter:!0,unmountOnExit:!0,children:Object(K.jsxs)(N.a,{variant:"outlined",outlinecolor:"secondary",className:t.selectedActions,children:[Object(K.jsx)(we.a,{in:u,mountOnEnter:!0,unmountOnExit:!0,children:Object(K.jsx)(E.a,{title:s?"Remove level from favorites":"Add level to favorites",children:Object(K.jsx)(A.a,{onClick:function(){l()},"aria-label":"favorite level",className:t.previewAction,children:s?Object(K.jsx)(ke.a,{className:t.previewActionIcon}):Object(K.jsx)(Se.a,{className:t.previewActionIcon})})})}),Object(K.jsx)(we.a,{in:b,mountOnEnter:!0,unmountOnExit:!0,children:Object(K.jsx)(E.a,{title:r?"Remove chroma from favorites":"Add chroma to favorites",children:Object(K.jsx)(A.a,{onClick:function(){d()},"aria-label":"favorite chroma",className:t.previewAction,children:r?Object(K.jsx)(Ce.a,{className:t.previewActionIcon}):Object(K.jsx)(Ne.a,{className:t.previewActionIcon})})})}),Object(K.jsx)(we.a,{in:a,mountOnEnter:!0,unmountOnExit:!0,children:Object(K.jsx)(E.a,{title:n?"Stop video preview":"Play video preview",children:Object(K.jsx)(A.a,{onClick:function(){i(!n)},"aria-label":"preview",className:t.previewAction,children:n?Object(K.jsx)(_e.a,{className:t.previewActionIcon}):Object(K.jsx)(Ie.a,{className:t.previewActionIcon})})})}),Object(K.jsx)(we.a,{in:n,mountOnEnter:!0,unmountOnExit:!0,children:Object(K.jsx)(E.a,{title:c?"Hide video controls":"Show video controls",children:Object(K.jsx)(A.a,{onClick:function(){o(!c)},"aria-label":"preview",className:t.previewAction,children:c?Object(K.jsx)(De.a,{className:t.previewActionIcon}):Object(K.jsx)(Ee.a,{className:t.previewActionIcon})})})})]})})})},Te=a(196),Be=a(197),Re=a(198),Ge=a(225),Ve=a(199),We=a(200),Fe=Object(k.a)((function(e){return{"@global":{"@keyframes spin":{"0%":{transform:"rotate(-360deg)"},"100%":{transform:"rotate(0deg)"}}},content:{margin:"0px 10px 0px 10px"}}}));var qe=function(e){var t=Fe(),a=(Object(S.a)(),Object(n.useState)(0)),i=Object(d.a)(a,2),c=i[0],o=i[1],s=e.totalWeights-e.weight,r=Object(n.useState)(s),l=Object(d.a)(r,2),u=l[0],b=l[1];function j(){e.close(!1),o(e.weight)}return Object(n.useEffect)((function(){e.open&&(o(e.weight),b(s+c))}),[e.open]),Object(n.useEffect)((function(){b(s+c)}),[c]),Object(n.useEffect)((function(){o(e.weight)}),[e.weight]),Object(K.jsxs)(V.a,{open:e.open,fullWidth:!0,maxWidth:"xs",onClose:j,children:[Object(K.jsx)(Te.a,{children:"Randomizer Weight"}),Object(K.jsxs)(Be.a,{className:t.content,children:[Object(K.jsxs)(Re.a,{style:{marginBottom:"20px"},children:["Weights are relative, so there is a ",Object(K.jsxs)("strong",{children:[Math.round(c/u*100),"%"]})," chance this skin will be selected."]}),Object(K.jsx)(Ge.a,{valueLabelDisplay:"auto",step:1,marks:!0,min:1,max:m.WEIGHT_INTERVALS,value:c,onChange:function(e,t){return o(t)}})]}),Object(K.jsxs)(Ve.a,{children:[Object(K.jsx)(We.a,{color:"primary",onClick:j,children:"Cancel"}),Object(K.jsx)(We.a,{color:"primary",onClick:function(){e.saveCallback(c,u)},children:"Save"})]})]})},ze=Object(k.a)((function(e){return{backdrop:{display:"flex",alignItems:"center",justifyContent:"center"},mainPaper:{margin:"auto",width:"100%",height:"90vh",minWidth:"400px",maxWidth:"800px",display:"flex",justifySelf:"flex-start",justifyContent:"center",alignContent:"flex-start",flexWrap:"wrap",overflow:"auto","&::-webkit-scrollbar":{width:4},"&::-webkit-scrollbar-track":{boxShadow:"inset 0 0 6px rgba(0, 0, 0, 0.3)"},"&::-webkit-scrollbar-thumb":{backgroundColor:"darkgrey",outline:"1px solid slategrey",backgroundClip:"padding-box"}},paperOnTopContent:{width:"93%",background:"#424242",paddingBottom:"10px",display:"flex",flexDirection:"column",position:"sticky",top:0,zIndex:4},mainSkinMedia:{width:"100%",display:"flex",flexDirection:"row",alignContent:"center",justifyContent:"center",marginTop:"10px",maxHeight:"350px",maxWidth:"100%",overflowX:"hidden",transition:"all .2s ease"},paperCustomizingContent:{width:"93%",height:"auto",marginTop:"5px",display:"flex",flexDirection:"column",overflowY:"auto",alignItems:"stretch",top:0},levelSelectors:{display:"flex",flexDirection:"row",width:"100%",flexGrow:1,marginBottom:"15px",transition:"all .2s ease"},skinSelector:{marginBottom:"15px",marginTop:"15px",padding:"2px 2px",display:"flex",justifyContent:"center"}}}));var Pe=function(e){var t=ze(),a=(Object(S.a)(),e.inventoryData[e.weaponUuid]),i=a.skins,c=e.initialSkinData,o=Object(n.useState)(i[c.skin_uuid]),s=Object(d.a)(o,2),r=s[0],l=s[1],u=Object(n.useState)(i[c.skin_uuid].levels[e.loadoutWeaponData.level_uuid]),b=Object(d.a)(u,2),j=b[0],h=b[1],f=Object(n.useState)(i[c.skin_uuid].chromas[e.loadoutWeaponData.chroma_uuid]),x=Object(d.a)(f,2),p=x[0],O=x[1],m=Object(n.useState)(i[c.skin_uuid].favorite),g=Object(d.a)(m,2),v=g[0],y=g[1],w=Object(n.useState)(),k=Object(d.a)(w,2),C=k[0],_=k[1],I=Object(n.useState)(),E=Object(d.a)(I,2),A=E[0],L=E[1],T=Object(n.useState)(!0),B=Object(d.a)(T,2),R=B[0],G=B[1],V=Object(n.useState)(!0),W=Object(d.a)(V,2),F=W[0],q=W[1],z=Object(n.useState)(!1),P=Object(d.a)(z,2),M=P[0],H=P[1],J=Object(n.useState)(!1),X=Object(d.a)(J,2),Q=X[0],Z=X[1],$=Object(n.useState)(a.locked),ee=Object(d.a)($,2),te=ee[0],ae=ee[1],ne=Object(n.useState)(!0),ie=Object(d.a)(ne,2),ce=ie[0],re=ie[1],le=Object(n.useState)(!1),de=Object(d.a)(le,2),be=de[0],he=de[1],xe=Object(n.useState)(!1),pe=Object(d.a)(xe,2),Oe=pe[0],me=pe[1],ge=Object(n.useState)(!1),ve=Object(d.a)(ge,2),we=ve[0],ke=ve[1],Se=Object(n.useState)(!1),Ce=Object(d.a)(Se,2),Ne=Ce[0],_e=Ce[1],Ie=Object(n.useState)(!1),De=Object(d.a)(Ie,2),Ee=De[0],Ae=De[1],Te=Object(n.useState)(!1),Be=Object(d.a)(Te,2),Re=Be[0],Ge=Be[1];function Ve(e){for(var t=i[e],a=0,n=0;n<Object.keys(t.levels).length;n++)!0===t.levels[Object.keys(t.levels)[n]].unlocked&&(a=t.levels[Object.keys(t.levels)[n]].index);for(var c=0;c<Object.keys(t.chromas).length;c++)!0===t.chromas[Object.keys(t.chromas)[c]].unlocked&&t.chromas[Object.keys(t.chromas)[c]].index;1===Object.keys(t.levels).length&&1===Object.keys(t.chromas).length?me(!1):me(!0),l(t),h(t.levels[Object.keys(t.levels)[a-1]]),O(t.chromas[Object.keys(t.chromas)[0]]),ke(!1),Ae(!1)}return Object(n.useEffect)((function(){ce&&(document.title="VIM // ".concat(a.display_name))}),[ce]),Object(n.useEffect)((function(){_e(null!==p.video_preview||null!==j.video_preview),y(r.favorite),function(){for(var e=r.levels,t=[],a=0,n=Object.keys(e);a<n.length;a++){var i=e[n[a]];i.favorite&&t.push(i.uuid)}_(t),t.includes(j.uuid)?H(!0):H(!1),1===Object.keys(e).length?G(!1):G(!0)}(),function(){for(var e=r.chromas,t=[],a=0,n=Object.keys(e);a<n.length;a++){var i=e[n[a]];i.favorite&&t.push(i.uuid)}L(t),t.includes(p.uuid)?Z(!0):Z(!1),1===Object.keys(e).length?q(!1):q(!0)}()}),[r,j,p]),Object(n.useEffect)((function(){Ve(c.skin_uuid),h(i[c.skin_uuid].levels[e.loadoutWeaponData.level_uuid]),O(i[c.skin_uuid].chromas[e.loadoutWeaponData.chroma_uuid])}),[]),null==a&&null==c?null:Object(K.jsxs)(oe.a,{open:ce,className:t.backdrop,style:{zIndex:4},children:[Object(K.jsx)(qe,{open:Re,close:Ge,saveCallback:function(e,t){Ge(!1),r.weight=e,a.total_weights=t,console.log(e)},weight:r.weight,totalWeights:a.total_weights}),Object(K.jsx)(Y.a,{maxWidth:"lg",children:Object(K.jsxs)(N.a,{className:t.mainPaper,variant:"outlined",children:[Object(K.jsxs)("div",{className:t.paperOnTopContent,children:[Object(K.jsx)(ye,{selectedSkinData:r,inventoryWeaponData:a,saving:be,saveCallback:function(){he(!0);var t={weaponUuid:e.weaponUuid,skinUuid:r.uuid,levelUuid:j.uuid,chromaUuid:p.uuid,inventoryData:a,skinsData:i},n=c.skin_uuid,o=c.chroma_uuid,s=c.level_uuid,l=j.uuid===s&&p.uuid===o&&r.uuid===n,d=JSON.stringify(t);e.saveCallback(d,l).then((function(){re(!1),setTimeout((function(){e.closeEditor()}),100)}))},isFavorite:v,favoriteCallback:function(){i[r.uuid].favorite=!v,v?a.total_weights-=r.weight:a.total_weights+=r.weight,y(!v)},isLocked:te,lockCallback:function(){ae(!a.locked),a.locked=!a.locked},weightCallback:Ge}),Object(K.jsxs)("div",{style:{width:"100%",display:"flex",flexDirection:"row"},children:[Object(K.jsx)(N.a,{variant:"outlined",outlinecolor:"secondary",className:t.mainSkinMedia,style:{height:we?"35vh":"125px"},children:function(){var e=!1,t=!1;return null!==p.video_preview&&(e=!0),1!==p.index||null===j.display_icon||r.display_name.includes("Standard")||(t=!0),we?we&&null!==j.video_preview?Object(K.jsx)(D.a,{in:!0,children:Object(K.jsx)("video",{src:e?p.video_preview:j.video_preview,type:"video/mp4",controls:Ee,autoPlay:!0,onEnded:function(){ke(!1)},style:{width:"auto",height:"100%",overflow:"hidden",objectFit:"contain",flexGrow:1,alignSelf:"center"}})}):void ke(!1):Object(K.jsx)(D.a,{in:!0,children:Object(K.jsx)("img",{alt:p.display_name,src:t?j.display_icon:p.display_icon,style:{maxWidth:"90%",maxHeight:"85%",objectFit:"contain",alignSelf:"center",overflow:"hidden"}})})}()}),Object(K.jsx)(Le,{hasAlternateMedia:Ne,showingVideo:we,changeVideoStateCallback:ke,showingControls:Ee,changeControlsStateCallback:Ae,toggleFavoriteLevelCallback:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e=null===t?j.uuid:t;var n,c=C;(n=null===a?!c.includes(j.uuid):a)&&!c.includes(e)?c.push(e):!n&&c.includes(e)&&c.splice(c.indexOf(e),1),H(n),_(c),i[r.uuid].levels[j.uuid].favorite=n},isFavoriteLevel:M,toggleFavoriteChromaCallback:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;null===t?(e=p.uuid,console.log(e)):e=t;var n,c=A;(n=null===a?!c.includes(p.uuid):a)&&!c.includes(e)?c.push(e):!n&&c.includes(e)&&c.splice(c.indexOf(e),1),Z(n),L(c),i[r.uuid].chromas[e].favorite=n},isFavoriteChroma:Q,canFavoriteLevel:R,canFavoriteChroma:F})]})]}),Object(K.jsxs)("div",{className:t.paperCustomizingContent,children:[Object(K.jsx)("div",{className:t.levelSelectors,style:{height:Oe?"auto":"0px"},children:Object(K.jsxs)(se.a,{container:!0,spacing:0,children:[Object(K.jsx)(se.a,{item:!0,xs:12,sm:6,style:{display:"flex",flexDirection:"row",justifyContent:"flex-start"},children:Object(K.jsx)(ue,{levelData:r.levels,selectedLevelIndex:j.index,selectedChromaIndex:p.index,setter:h})}),Object(K.jsx)(se.a,{item:!0,xs:12,sm:6,style:{display:"flex",flexDirection:"row",justifyContent:"flex-end"},children:Object(K.jsx)(je,{levelData:r.levels,chromaData:r.chromas,selectedLevelIndex:j.index,selectedChromaIndex:p.index,setter:O})})]})}),Oe?Object(K.jsx)(U.a,{variant:"middle"}):null,Object(K.jsx)("div",{className:t.skinSelector,children:Object(K.jsx)(se.a,{style:{width:"100%",height:"100%",justifySelf:"center"},container:!0,justifyContent:"flex-start",direction:"row",alignItems:"center",spacing:2,children:Object.keys(i).map((function(e){var t=i[e];return Object(K.jsx)(se.a,{item:!0,xs:4,children:Object(K.jsx)(fe,{skinData:t,weaponData:a,equip:Ve,selected:r})},t.display_name)}))})})]})]})})]})};function Me(){var e=window;return{width:e.innerWidth,height:e.innerHeight}}function He(){var e=Object(n.useState)(Me()),t=Object(d.a)(e,2),a=t[0],i=t[1];return Object(n.useEffect)((function(){function e(){i(Me())}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),[a.width,a.height]}var Ue=a(202),Ye={"29a0cfab-485b-f5d5-779a-b59f85e204a8":["45% auto","auto 60%"],"42da8ccc-40d5-affc-beec-15aa47b42eda":["60% auto","auto 35%"],"44d4e95c-4157-0037-81b2-17841bf2e8e3":["45% auto","auto 60%"],"1baa85b4-4c70-1284-64bb-6481dfc3bb4e":["65% auto","auto 45%"],"e336c6b8-418d-9340-d77f-7a9e4cfe0702":["60% auto","auto 60%"],"f7e1b454-4ad4-1063-ec0a-159e56b58941":["52% auto","auto 65%"],"462080d1-4035-2937-7c09-27aa2a5c27a7":["55% auto","auto 65%"],"910be174-449b-c412-ab22-d0873436b21b":["75% auto","auto 40%"],"ec845bf4-4f79-ddda-a3da-0db3774b2794":["65% auto","auto 60%"],"ae3de142-4d85-2547-dd26-4e90bed35cf7":["65% auto","auto 65%"],"4ade7faa-4cf1-8376-95ef-39884480959b":["75% auto","auto 50%"],"ee8e8d15-496b-07ac-e5f6-8fae5d4c7b1a":["73% auto","auto 55%"],"9c82e19d-4575-0200-1a81-3eacf00cf872":["65% auto","auto 70%"],"c4883e50-4494-202c-3ec3-6b8a9284f00b":["80% auto","auto 42%"],"a03b24d3-4319-996d-0f8c-94bbfba1dfc7":["80% auto","auto 50%"],"55d8a0f4-4274-ca67-fe2c-06ab45efdf58":["80% auto","auto 45%"],"63e6c2b6-4a8e-869c-3d4c-e38355226584":["80% auto","auto 60%"],"2f59173c-4bed-b6c3-2191-dea9b58be9c7":["auto 70%","auto 70%"]},Je=Object(k.a)((function(e){return{"@global":{"@keyframes fadeOut":{"0%":{transform:"rotate(-360deg)"},"100%":{transform:"rotate(0deg)"}}},weaponContainerVideo:{position:"absolute",objectFit:"cover",width:"auto",height:"auto"},weaponPaper:{flexDirection:"row",position:"relative",width:"100%",height:"100%",alignItems:"center",justifyContent:"center",background:"transparent",transition:".5s ease !important","&:hover":{border:"1px ".concat(e.palette.primary.main," solid")}},weaponImage:{zIndex:1,width:"100%",height:"100%",position:"relative",backgroundPosition:"center",backgroundRepeat:"no-repeat",background:"transparent",backfaceVisibility:"hidden"},bottomGradient:{zIndex:5,width:"100%",height:"100%",top:"-100%"},dataContainer:{width:"100%",height:"100%",display:"flex",position:"relative",top:"-100%"},textContainer:{display:"flex",flexDirection:"column",width:"100%",height:"100%",alignItems:"center",justifyContent:"flex-end",backgroundPosition:"center",overflow:"visible",paddingLeft:"12px",paddingBottom:"8px",zIndex:2},buddyContainer:{display:"flex",maxWidth:"100px",height:"100%",position:"relative",right:0,bottom:7,zIndex:2},buddyImage:{width:"100%",height:"auto",objectFit:"contain",position:"relative",alignSelf:"flex-end"},weaponLabelHolder:{display:"flex",width:"80%",height:"25px",position:"relative",alignSelf:"flex-start"},skinLabelHolder:{width:"80%",alignSelf:"flex-start",position:"relative"},weaponLabel:{textAlign:"left",width:"100%",flexGrow:1,position:"relative",textOverflow:"ellipsis",bottom:0}}}));var Ke=function(e){var t=Je(),a=(Object(S.a)(),He()),i=Object(d.a)(a,2),c=i[0],o=i[1],s=Object(n.useState)(!0),r=Object(d.a)(s,2),l=r[0],u=r[1],b=Object(n.useState)(!1),j=Object(d.a)(b,2),h=(j[0],j[1]),f=Object(n.useState)({}),x=Object(d.a)(f,2),p=x[0],O=x[1],m=Object(n.useState)(!1),g=Object(d.a)(m,2),v=g[0],y=g[1],w=Object(n.useState)(0),k=Object(d.a)(w,2),C=k[0],_=k[1],E=Object(n.useState)(""),A=Object(d.a)(E,2),L=A[0],T=A[1],B=void 0!==e.data?e.data.favorite:"",R=void 0!==e.data?e.data.locked:"",G=void 0!==e.data?e.data.bugged:"";return Object(n.useEffect)((function(){if(void 0!==e.data){var t=null!==p?p.skin_image:"";e.data.skin_image!==t&&(u(!0),setTimeout((function(){T(e.data.skin_image),O(e.data),u(!1)}),300)),e.data.buddy_name!==p.buddy_name&&(h(!0),setTimeout((function(){O(e.data),h(!1)}),300))}}),[e.data]),Object(n.useEffect)((function(){_(c/o>1.75?1:0)}),[c,o]),Object(K.jsx)(H.a,{in:!0,style:{transitionDelay:"500ms"},children:Object(K.jsxs)(N.a,{className:t.weaponPaper,variant:"outlined",onMouseEnter:function(){y(!0)},onMouseLeave:function(){y(!1)},onMouseDown:function(){G||e.weaponEditorCallback(e.uuid)},children:[Object(K.jsx)(H.a,{in:!l,children:Object(K.jsx)("div",{className:t.weaponImage,style:{backgroundPosition:"50% 50%",backgroundImage:p!=={}?"url(".concat(L,")"):'url("https://media.valorant-api.com/weapons/'.concat(e.uuid,'/displayicon.png")'),backgroundSize:Ye[e.uuid][C]}})}),Object(K.jsxs)("div",{className:t.dataContainer,children:[Object(K.jsxs)("div",{className:t.textContainer,children:[Object(K.jsx)("div",{className:t.weaponLabelHolder,children:Object(K.jsxs)(I.a,{className:t.weaponLabel,variant:"overline",children:[R?"\ud83d\udd12 ":null,e.displayName]})}),Object(K.jsx)("div",{className:t.skinLabelHolder,children:Object(K.jsx)(Ue.a,{in:v,children:Object(K.jsxs)(I.a,{className:t.weaponLabel,variant:"body1",style:{marginBottom:"4px"},children:[B?"\u2764 ":null,p.skin_name]})})})]}),Object(K.jsx)(D.a,{in:!0,children:Object(K.jsx)("div",{className:t.buddyContainer,style:{width:e.isSidearm?"20%":"14%"},children:"2f59173c-4bed-b6c3-2191-dea9b58be9c7"!==e.uuid?Object(K.jsx)("img",{alt:p.buddy_name,className:t.buddyImage,src:""!==p.buddy_image?p.buddy_image:null}):Object(K.jsx)("img",{alt:"",src:""})})})]})]})})},Xe=a(203),Qe=Object(k.a)((function(e){return{root:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",margin:"auto",width:"100%",height:"100%",flexGrow:1},collectionItem:{display:"flex",height:"20%",minHeight:"115px",flexGrow:1}}})),Ze=[[{type:"weapon",sidearm:!0,uuid:"29a0cfab-485b-f5d5-779a-b59f85e204a8",displayName:"Classic"},{type:"weapon",sidearm:!1,uuid:"f7e1b454-4ad4-1063-ec0a-159e56b58941",displayName:"Stinger"},{type:"weapon",sidearm:!1,uuid:"ae3de142-4d85-2547-dd26-4e90bed35cf7",displayName:"Bulldog"},{type:"weapon",sidearm:!1,uuid:"c4883e50-4494-202c-3ec3-6b8a9284f00b",displayName:"Marshal"}],[{type:"weapon",sidearm:!0,uuid:"42da8ccc-40d5-affc-beec-15aa47b42eda",displayName:"Shorty"},{type:"weapon",sidearm:!1,uuid:"462080d1-4035-2937-7c09-27aa2a5c27a7",displayName:"Spectre"},{type:"weapon",sidearm:!1,uuid:"4ade7faa-4cf1-8376-95ef-39884480959b",displayName:"Guardian"},{type:"weapon",sidearm:!1,uuid:"a03b24d3-4319-996d-0f8c-94bbfba1dfc7",displayName:"Operator"}],[{type:"weapon",sidearm:!0,uuid:"44d4e95c-4157-0037-81b2-17841bf2e8e3",displayName:"Frenzy"},{type:"weapon",sidearm:!1,uuid:"910be174-449b-c412-ab22-d0873436b21b",displayName:"Bucky"},{type:"weapon",sidearm:!1,uuid:"ee8e8d15-496b-07ac-e5f6-8fae5d4c7b1a",displayName:"Phantom"},{type:"weapon",sidearm:!1,uuid:"55d8a0f4-4274-ca67-fe2c-06ab45efdf58",displayName:"Ares"}],[{type:"weapon",sidearm:!0,uuid:"1baa85b4-4c70-1284-64bb-6481dfc3bb4e",displayName:"Ghost"},{type:"weapon",sidearm:!1,uuid:"ec845bf4-4f79-ddda-a3da-0db3774b2794",displayName:"Judge"},{type:"weapon",sidearm:!1,uuid:"9c82e19d-4575-0200-1a81-3eacf00cf872",displayName:"Vandal"},{type:"weapon",sidearm:!1,uuid:"63e6c2b6-4a8e-869c-3d4c-e38355226584",displayName:"Odin"}],[{type:"weapon",sidearm:!0,uuid:"e336c6b8-418d-9340-d77f-7a9e4cfe0702",displayName:"Sheriff"},{type:"placeholder"},{type:"weapon",sidearm:!1,uuid:"2f59173c-4bed-b6c3-2191-dea9b58be9c7",displayName:"Melee"}]];var $e=function(e){var t=Qe(),a=He(),i=Object(d.a)(a,2),c=i[0],o=(i[1],Object(n.useState)(!1)),s=Object(d.a)(o,2),r=s[0],l=s[1],u=Object(n.useState)(!1),b=Object(d.a)(u,2),j=b[0],h=b[1];return Object(n.useEffect)((function(){l(c<960),h(c<960||c>1300)}),[c]),Object(K.jsx)(K.Fragment,{children:r?Object(K.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%",height:"100%"},children:[Object(K.jsx)(Xe.a,{style:{fontSize:60}}),Object(K.jsx)(I.a,{variant:"h6",style:{marginTop:"10px"},children:"Make your window bigger for this page to work properly"})]}):Object(K.jsx)(se.a,{className:t.root,style:e.style,container:!0,justifyContent:"center",direction:"row",alignItems:"center",spacing:3,children:Ze.map((function(a){return null!==e.loadout?a.map((function(a){return"weapon"===a.type?Object(K.jsx)(se.a,{className:t.collectionItem,item:!0,md:!0===a.sidearm?2:3,sm:12,xs:12,children:Object(K.jsx)(Ke,{data:e.loadout[a.uuid],uuid:a.uuid,displayName:a.displayName,useLargeWeaponImage:j,weaponEditorCallback:e.weaponEditorCallback,isSidearm:a.sidearm})},a.uuid):Object(K.jsx)(se.a,{className:t.collectionItem,item:!0,md:6,sm:!1,xs:!1},"placeholder")})):null}))})})},et=a(58),tt=a.n(et),at=a(204),nt=a(170),it=a(132),ct=a(206),ot=a(207),st=a(205),rt=a(31),lt="200px",dt=Object(k.a)((function(e){return{drawer:{width:lt,overflow:"hidden",whiteSpace:"nowrap",flexShrink:1,justifyContent:"center"}}}));var ut=function(){var e=dt(),t=(Object(S.a)(),Object(n.useState)(!1)),a=Object(d.a)(t,2),i=(a[0],a[1],Object(n.useState)(null)),c=Object(d.a)(i,2),o=c[0],s=c[1],r=[{name:"Skins",icon:rt.l,path:"/collection"},{name:"Buddies",icon:rt.m,path:"/buddies"}];return Object(K.jsx)(K.Fragment,{children:m.NAVIGATION_ENABLED?Object(K.jsxs)("div",{style:{display:"flex"},children:[o,Object(K.jsx)(at.a,{variant:"permanent",className:e.drawer,children:Object(K.jsxs)(nt.a,{style:{width:lt,overflow:"hidden",flexGrow:1},children:[Object(K.jsx)("div",{style:{width:"100%",padding:"10px 5px 10px 5px"},children:Object(K.jsx)(A.a,{onClick:null,children:Object(K.jsx)(st.a,{})})}),Object(K.jsx)(U.a,{}),Object(K.jsx)("div",{style:{width:"100%",marginTop:"10px"},children:r.map((function(e,t){return Object(K.jsxs)(it.a,{button:!0,onClick:function(){var t;t=e.path,s(Object(K.jsx)(f.a,{to:t}))},children:[Object(K.jsx)(ct.a,{children:Object(K.jsx)(tt.a,{path:e.icon,size:1.25})}),Object(K.jsx)(ot.a,{primary:e.name})]},e.name)}))}),Object(K.jsxs)("div",{style:{position:"absolute",bottom:0,width:"100%"},children:[Object(K.jsx)(U.a,{}),Object(K.jsxs)(it.a,{button:!0,children:[Object(K.jsx)(ct.a,{children:Object(K.jsx)(tt.a,{path:rt.a,size:1})}),Object(K.jsx)(ot.a,{primary:"Status"})]},"Status"),Object(K.jsxs)(it.a,{button:!0,children:[Object(K.jsx)(ct.a,{children:Object(K.jsx)(tt.a,{path:rt.b,size:1})}),Object(K.jsx)(ot.a,{primary:"About"})]},"about")]})]})})]}):null})},bt=Object(k.a)((function(e){return{}}));var jt=function(e){bt(),Object(S.a)();var t=Object(n.useState)(!1),a=Object(d.a)(t,2),i=a[0],c=a[1],o=Object(n.useState)(""),s=Object(d.a)(o,2),u=(s[0],s[1],Object(n.useState)({})),b=Object(d.a)(u,2),j=b[0],h=b[1],f=Object(n.useState)(!1),x=Object(d.a)(f,2),p=x[0],O=x[1],m=Object(n.useState)({}),g=Object(d.a)(m,2),v=g[0],y=g[1],k=Object(n.useState)(),C=Object(d.a)(k,2),N=C[0],_=C[1];function I(e,t){return D.apply(this,arguments)}function D(){return(D=Object(l.a)(r.a.mark((function e(t,a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){w.request({request:"update_inventory",args:{payload:t}},(function(t){h(t),e()})),a||w.request({request:"put_weapon",args:{payload:t}},(function(e){console.log("put"),y(e)}))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(){O(!1),_(null)}return Object(n.useEffect)((function(){i||(function(){function e(e){h(e.skins)}w.request({request:"fetch_inventory"},e)}(),function(){function e(e){y(e.loadout)}w.request({request:"fetch_loadout"},e)}(),c(!0)),w.subscribe("loadout_updated",(function(e){console.log(e),y(e.loadout)}))}),[]),Object(n.useEffect)((function(){p||(document.title="VIM // Collection")}),[p]),Object(K.jsxs)("div",{style:{height:"100vh",width:"100vw",display:"flex",overflow:"auto"},children:[Object(K.jsx)(ut,{}),Object(K.jsxs)("div",{style:{height:"100%",margin:"auto",display:"flex",flexDirection:"column",justifyContent:"space-between",overflow:"auto",flexGrow:1},children:[Object(K.jsx)(ne,{}),Object(K.jsxs)(Y.a,{maxWidth:!1,style:{display:"flex",height:"auto",flexGrow:1},children:[N,Object(K.jsx)($e,{style:{padding:"20px 0px 20px 0px"},weaponEditorCallback:function(e){O(!0),_(Object(K.jsx)(Pe,{weaponUuid:e,initialSkinData:v[e],inventoryData:j,loadoutWeaponData:v[e],saveCallback:I,closeEditor:E}))},loadout:v,setLoadout:y})]}),Object(K.jsx)(ce,{})]})]})},ht=a(95),ft=a(103),xt=a(208),pt=a(226),Ot=Object(k.a)((function(e){return{root:{width:"100%",height:"125px"},paper:{height:"100%",width:"100%",display:"flex",flexDirection:"column"},content:{width:"100%",height:"100%"},header:{height:"30px",width:"90%",margin:"10px 0px 0px 15px"},tags:{width:"100%",height:"27px",marginTop:"5px",marginLeft:"15px","& > *":{margin:"0px 5px 0px 0px"}},bottomContent:{width:"100%",height:"33px",marginTop:"10px",padding:"0px 10px 0px 10px",display:"flex",flexDirection:"row",justifyContent:"flex-start"}}}));var mt=function(e){var t=Ot(),a=(Object(S.a)(),e.data),i=e.loadout,c={1:rt.c,2:rt.d,3:rt.e,4:rt.f,5:rt.g,6:rt.h,7:rt.i,8:rt.j,9:rt.k},o=Object(n.useState)([]),s=Object(d.a)(o,2),r=s[0],l=s[1];return Object(n.useEffect)((function(){var e=[];Object.keys(i).forEach((function(t){var n=i[t];n.buddy_uuid===a.uuid&&(e.includes(n.weapon_killstream_icon)||e.push(n.weapon_killstream_icon))})),l(e)}),[i]),Object(K.jsx)(D.a,{in:!0,children:Object(K.jsx)("div",{className:t.root,children:Object(K.jsx)(N.a,{className:t.paper,style:{backgroundColor:"transparent",backgroundImage:"url('".concat(a.display_icon,"')"),backgroundSize:"auto 70%",backgroundRepeat:"no-repeat",backgroundPosition:"100% 50%"},variant:"outlined",children:Object(K.jsxs)("div",{className:t.content,children:[Object(K.jsx)("div",{className:t.header,children:Object(K.jsx)(I.a,{variant:"h5",style:{textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"},children:a.display_name})}),Object(K.jsx)("div",{className:t.tags,children:Object.keys(a.instances).map((function(e){var t=a.instances[e];return""!==t.locked_weapon_uuid?Object(K.jsx)(pt.a,{avatar:Object(K.jsx)(me.a,{style:{background:"transparent"}}),label:t.locked_weapon_display_name,color:"primary",size:"small"}):null}))}),Object(K.jsxs)("div",{className:t.bottomContent,children:[Object(K.jsx)("div",{style:{width:"90%",height:"100%",display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center",overflow:"hidden"},children:r.map((function(e,t){return Object(K.jsx)(H.a,{in:!0,children:Object(K.jsx)("img",{src:e,alt:"weapon",style:{width:"auto",height:"100%",objectFit:"contain",float:"left",filter:"opacity(0.5)",marginRight:"10px"}})})}))}),Object(K.jsx)("div",{style:{width:"auto",height:"100%",display:"flex",marginLeft:"auto",flexDirection:"row",justifyContent:"flex-end",alignItems:"cetner"},children:Object(K.jsx)(tt.a,{path:c[a.instance_count],size:1.1,color:"white",style:{height:"100%",marginLeft:"auto",marginTop:"auto",filter:"opacity(0.5)"}})})]})]})})})})};Object(k.a)((function(e){return{backdrop:{display:"flex",alignItems:"center",justifyContent:"center"},mainPaper:{margin:"auto",width:"100%",height:"auto",minWidth:"400px",maxWidth:"600px",display:"flex",justifySelf:"flex-start",justifyContent:"center",alignContent:"flex-start",flexWrap:"wrap",overflow:"auto","&::-webkit-scrollbar":{width:4},"&::-webkit-scrollbar-track":{boxShadow:"inset 0 0 6px rgba(0, 0, 0, 0.3)"},"&::-webkit-scrollbar-thumb":{backgroundColor:"darkgrey",outline:"1px solid slategrey",backgroundClip:"padding-box"}}}}));var gt=Object(k.a)((function(e){return{root:{width:"100%",height:"100%",display:"flex",flexDirection:"column",justifyContent:"center"},gridContainer:{height:"calc(100% - 70px)",width:"100%",overflowY:"auto","&::-webkit-scrollbar":{width:4},"&::-webkit-scrollbar-track":{boxShadow:"inset 0 0 6px rgba(0, 0, 0, 0.3)"},"&::-webkit-scrollbar-thumb":{backgroundColor:"darkgrey",outline:"1px solid slategrey",backgroundClip:"padding-box"}},mainGrid:{maxHeight:"100%",width:"100%"},serachContainer:{height:"60px",marginBottom:"10px",width:"100%",display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center"},search:{position:"relative",borderRadius:e.shape.borderRadius,width:"300px",backgroundColor:"#565656"},searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit",width:"100%"},inputInput:{padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),width:"100%"}}}));var vt=function(e){var t=gt(),a=(Object(S.a)(),e.loadout),i=e.inventory,c=Object(n.useState)(""),o=Object(d.a)(c,2),s=o[0],r=o[1],l=Object(n.useState)([]),u=Object(d.a)(l,2),b=u[0],j=u[1],h=Object(n.useState)(null),f=Object(d.a)(h,2),x=f[0],p=f[1],O=[];return Object(n.useEffect)((function(){for(var e in i){var t=i[e];O.push(t.display_name)}p(new ht.a(O,{threshold:.4}))}),[i]),Object(n.useEffect)((function(){if(null!==x){var e=x.search(s),t=[];for(var a in e)t.push(e[a].item);j(t)}}),[s]),Object(K.jsxs)("div",{className:t.root,children:[Object(K.jsx)("div",{className:t.serachContainer,children:Object(K.jsxs)("div",{className:t.search,children:[Object(K.jsx)("div",{className:t.searchIcon,children:Object(K.jsx)(xt.a,{})}),Object(K.jsx)(ft.a,{placeholder:"Search",classes:{root:t.inputRoot,input:t.inputInput},inputProps:{"aria-label":"search"},onChange:function(e){r(e.target.value)}})]})}),Object(K.jsx)("div",{className:t.gridContainer,children:Object(K.jsx)(se.a,{container:!0,spacing:3,className:t.mainGrid,direction:"row",justifyContent:"flex-start",alignItems:"flex-start",children:Object.keys(i).map((function(e){var t=i[e];return b.includes(t.display_name)||0===b.length?Object(K.jsx)(se.a,{item:!0,xl:3,lg:4,md:6,sm:12,xs:12,children:Object(K.jsx)(mt,{data:t,loadout:a})},t.display_name):null}))})})]})},yt=Object(k.a)((function(e){return{}}));var wt=function(e){yt(),Object(S.a)();var t=Object(n.useState)({}),a=Object(d.a)(t,2),i=a[0],c=a[1],o=Object(n.useState)({}),s=Object(d.a)(o,2),r=s[0],l=s[1];return Object(n.useEffect)((function(){!function(){function e(e){c(e.buddies)}w.request({request:"fetch_inventory"},e)}(),function(){function e(e){console.log("loadout"),console.log(e.loadout),l(e.loadout)}w.request({request:"fetch_loadout"},e),w.subscribe("loadout_updated",e)}(),document.title="VIM // Buddies"}),[]),Object(K.jsx)(K.Fragment,{children:Object(K.jsxs)("div",{style:{height:"100vh",width:"100vw",display:"flex",overflow:"auto"},children:[Object(K.jsx)(ut,{}),Object(K.jsxs)("div",{style:{height:"100%",margin:"auto",display:"flex",flexDirection:"column",justifyContent:"space-between",overflow:"auto",flexGrow:1},children:[Object(K.jsx)(ne,{}),Object(K.jsx)(Y.a,{maxWidth:null,style:{maxHeight:"calc(100% - 122px)",display:"flex",flexGrow:1},children:Object(K.jsx)(vt,{loadout:r,inventory:i})}),Object(K.jsx)(ce,{})]})]})})},kt=a(227),St=a(209),Ct=a(219),Nt=Object(k.a)((function(e){return{stepper:{}}})),_t=["Hello!","VALORANT Account","Settings"];var It=function(e){var t=Nt(),a=(Object(S.a)(),e.activeStep);return Object(K.jsx)(kt.a,{activeStep:a,className:t.stepper,children:_t.map((function(e,t){return Object(K.jsx)(St.a,{children:Object(K.jsx)(Ct.a,{children:e})},e)}))})},Dt=Object(k.a)((function(e){return{headerText:{justifySelf:"center",textAlign:"center",background:"linear-gradient(90deg, rgba(173, 81, 89, 1) 0%, rgba(250,117,129,1) 100%, rgba(255,190,190,1) 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",alignSelf:"flex-end"},bodyText:{marginTop:"3px",justifySelf:"center",textAlign:"center"},list:{width:"400px",justifySelf:"center",alignSelf:"center",display:"flex",flexDirection:"column",paddingTop:"0px"},listItem:{justifySelf:"center",textAlign:"center",padding:"2px"},buttonDiv:{display:"flex",height:"100%",width:"100%",flexDirection:"column",flexGrow:1,marginTop:"5px",justifyContent:"flex-end"},startButton:{width:"100%",height:"37px",alignSelf:"center",marginBottom:"15px"}}}));var Et=function(e){var t=Dt(),a=(Object(S.a)(),e.pageStyle);return Object(K.jsxs)("div",{style:a,children:[Object(K.jsx)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"flex-end",height:"100%"},children:Object(K.jsx)(I.a,{variant:"h2",className:t.headerText,children:Object(K.jsx)("strong",{children:"VIM"})})}),Object(K.jsx)(I.a,{variant:"h6",className:t.bodyText,children:"VALORANT inventory management, expanded"}),Object(K.jsx)("div",{className:t.buttonDiv,children:Object(K.jsx)(We.a,{variant:"outlined",color:"primary",onClick:e.nextCallback,className:t.startButton,children:"Get Started"})})]})},At=a(210),Lt=a(228),Tt=a(211),Bt=a(212),Rt=a(213),Gt=Object(k.a)((function(e){return{"@global":{"@keyframes spin":{"0%":{transform:"rotate(-360deg)"},"100%":{transform:"rotate(0deg)"}}},start:{display:"flex",flexDirection:"column",flexGrow:1},gameNotRunning:{display:"flex",flexDirection:"column",flexGrow:1},autodetectClient:{display:"flex",flexDirection:"column",flexGrow:1},accountDataList:{flexGrow:0,marginBottom:"5px"},loading:{animation:"spin 4s linear infinite"},buttons:{display:"flex",flexDirection:"column",flexGrow:1,justifyContent:"flex-end"},nextButton:{width:"100%",height:"37px",marginBottom:"15px"}}}));var Vt=function(e){var t=Gt(),a=(Object(S.a)(),e.pageStyle),i=Object(n.useState)(!1),c=Object(d.a)(i,2),o=c[0],s=c[1],r=Object(n.useState)(!0),l=Object(d.a)(r,2),u=l[0],b=(l[1],Object(n.useState)(!1)),j=Object(d.a)(b,2),h=j[0],f=j[1],x=Object(n.useState)(!1),p=Object(d.a)(x,2),O=p[0],m=p[1],g=Object(n.useState)({}),v=Object(d.a)(g,2),y=v[0],k=v[1];return Object(n.useEffect)((function(){h||w.request({request:"get_running_state"},(function(e){s(e),f(!0)}))}),[]),Object(n.useEffect)((function(){o&&!O&&w.request({request:"autodetect_account"},(function(e){m(!0),k(e)}))}),[o]),Object(K.jsx)("div",{style:a,children:Object(K.jsxs)("div",{className:t.start,children:[Object(K.jsx)(I.a,{variant:"h4",children:"Let's get started"}),Object(K.jsx)(H.a,{in:!o&&h,unmountOnExit:!0,mountOnEnter:!0,children:Object(K.jsxs)("div",{className:t.gameNotRunning,children:[Object(K.jsx)(I.a,{style:{marginTop:"12px",marginBottom:"10px"},variant:"body2",children:"It looks like VALORANT isn't open. VALORANT needs to be open to set up VIM."}),Object(K.jsx)(We.a,{variant:"outlined",color:"primary",disabled:!u,className:t.startButton,onClick:function(){w.request({request:"start_game"},(function(e){!0===e&&s(!0)}))},children:u?"Launch VALORANT":Object(K.jsx)(T.a,{className:t.loading})})]})}),Object(K.jsx)(H.a,{in:o,style:{transitionDelay:"200ms"},unmountOnExit:!0,mountOnEnter:!0,children:Object(K.jsxs)("div",{className:t.autodetectClient,children:[Object(K.jsx)(I.a,{style:{marginTop:"12px",marginBottom:"5px"},variant:"body2",children:O?"Discovered the following account data:":"Attempting to autodetect your VALORANT account."}),Object(K.jsx)(H.a,{in:O,mountOnEnter:!0,unmountOnExit:!0,children:Object(K.jsxs)(nt.a,{className:t.accountDataList,children:[Object(K.jsxs)(it.a,{children:[Object(K.jsx)(At.a,{children:Object(K.jsx)(Lt.a,{children:Object(K.jsx)(Tt.a,{color:"action"})})}),Object(K.jsx)(ot.a,{primary:"".concat(y.game_name,"#").concat(y.game_tag)})]}),Object(K.jsxs)(it.a,{children:[Object(K.jsx)(At.a,{children:Object(K.jsx)(Lt.a,{children:Object(K.jsx)(Bt.a,{color:"action"})})}),Object(K.jsx)(ot.a,{primary:"Region: ".concat(y.region)})]}),Object(K.jsxs)(it.a,{children:[Object(K.jsx)(At.a,{children:Object(K.jsx)(Lt.a,{children:Object(K.jsx)(Rt.a,{color:"action"})})}),Object(K.jsx)(ot.a,{primary:"Shard: ".concat(y.shard)})]})]})}),Object(K.jsx)(H.a,{in:O,style:{transitionDelay:"500ms"},mountOnEnter:!0,unmountOnExit:!0,children:Object(K.jsx)("div",{className:t.buttons,children:Object(K.jsx)(We.a,{variant:"outlined",color:"primary",onClick:e.nextCallback,className:t.nextButton,children:"Next"})})})]})})]})})},Wt=Object(k.a)((function(e){return{buttonDiv:{display:"flex",width:"100%",flexDirection:"column",alignItems:"center",marginTop:"5px",justifyContent:"flex-end"},nextButton:{width:"90%",height:"37px",marginBottom:"15px"}}}));var Ft=function(e){var t=Wt(),a=(Object(S.a)(),Object(n.useState)(!1)),i=Object(d.a)(a,2),c=i[0],o=i[1],s=e.pageStyle;return Object(K.jsxs)("div",{style:Object(G.a)(Object(G.a)({},s),{},{width:"100%"}),children:[Object(K.jsx)("div",{style:{height:"68%",padding:"0px 0px 10px 0px"},children:Object(K.jsx)(Z,{saveTrigger:c})}),Object(K.jsx)("div",{className:t.buttonDiv,children:Object(K.jsx)(We.a,{variant:"outlined",color:"primary",onClick:function(){o(!0),w.send({request:"complete_onboarding"}),e.nextCallback()},className:t.nextButton,children:"Finish"})})]})},qt=Object(k.a)((function(e){return{root:{width:"100vw",height:"100vh",display:"flex",justifyContent:"center",alignItems:"center"},paper:{width:"500px",height:"400px",display:"flex",flexDirection:"column"},pageContent:{display:"flex",flexGrow:1,height:"100%",alignItems:"center",flexDirection:"column"}}})),zt={width:"90%",height:"100%",display:"flex",flexDirection:"column",flexGrow:1};var Pt=function(e){var t=qt(),a=(Object(S.a)(),[Object(K.jsx)(Et,{pageStyle:zt,nextCallback:j}),Object(K.jsx)(Vt,{pageStyle:zt,nextCallback:j}),Object(K.jsx)(Ft,{pageStyle:zt,nextCallback:j})]),i=Object(n.useState)(0),c=Object(d.a)(i,2),o=c[0],s=c[1],r=Object(n.useState)(null),l=Object(d.a)(r,2),u=l[0],b=l[1];function j(){s(o+1),console.log(o),o+1>a.length-1&&(console.log("redirect"),b(Object(K.jsx)(f.a,{to:"/collection"})))}return Object(K.jsxs)(Y.a,{maxWidth:"xl",className:t.root,children:[u,Object(K.jsx)(D.a,{in:!0,children:Object(K.jsxs)(N.a,{variant:"outlined",className:t.paper,children:[Object(K.jsx)(It,{activeStep:o}),Object(K.jsx)("div",{className:t.pageContent,children:a[o]})]})})]})},Mt=Object(k.a)((function(e){return{root:{width:"100vw",height:"100vh",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:e.palette.background.default,zIndex:100},main:{width:"400px",height:"200px",display:"flex",flexDirection:"column",alignItems:"center"},content:{display:"flex",flexDirection:"column",flexGrow:1,alignItems:"center"},retryButton:{alignSelf:"center",height:"45px",width:"80%"},buttons:{display:"flex",width:"100%",flexDirection:"column",flexGrow:1,justifyContent:"center"}}}));var Ht=function(e){var t=Mt();return Object(S.a)(),Object(K.jsx)(oe.a,{open:!0,className:t.root,children:Object(K.jsx)(D.a,{in:!0,children:Object(K.jsx)("div",{className:t.main,children:Object(K.jsxs)("div",{className:t.content,children:[Object(K.jsx)(I.a,{variant:"h4",children:"Connection failed"}),Object(K.jsx)(I.a,{variant:"body1",style:{textAlign:"center",marginTop:"10px"},children:"Couldn't connect to your computer. Is the VIM client companion running?"}),Object(K.jsx)("div",{className:t.buttons,children:Object(K.jsx)(We.a,{variant:"outlined",color:"primary",onClick:e.retry,className:t.retryButton,children:"Retry"})})]})})})})},Ut=Object(k.a)((function(e){return{"@global":{"@keyframes spin":{"0%":{transform:"rotate(-360deg)"},"100%":{transform:"rotate(0deg)"}}},root:{width:"100vw",height:"100vh",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:e.palette.background.default,zIndex:100},main:{width:"400px",height:"200px",display:"flex",flexDirection:"column",alignItems:"center"},content:{display:"flex",flexDirection:"column",flexGrow:1,alignItems:"center"},retryButton:{alignSelf:"center",height:"45px",width:"80%"},buttons:{display:"flex",width:"100%",flexDirection:"column",flexGrow:1,justifyContent:"center"},loading:{animation:"spin 4s linear infinite"}}}));var Yt=function(e){var t=Ut(),a=(Object(S.a)(),Object(n.useState)(!0)),i=Object(d.a)(a,2),c=i[0],o=i[1],s=Object(n.useState)(!0),r=Object(d.a)(s,2),l=r[0],u=r[1];return Object(K.jsx)(oe.a,{open:!0,className:t.root,children:Object(K.jsx)(D.a,{in:l,children:Object(K.jsx)("div",{className:t.main,children:Object(K.jsxs)("div",{className:t.content,children:[Object(K.jsx)(I.a,{variant:"h4",children:"VALORANT not open"}),Object(K.jsx)(I.a,{variant:"body1",style:{textAlign:"center",marginTop:"10px"},children:"Couldn't detect VALORANT running on your computer."}),Object(K.jsx)("div",{className:t.buttons,children:Object(K.jsx)(We.a,{variant:"outlined",color:"primary",onClick:function(){o(!1),w.request({request:"start_game"},(function(t){console.log("launched!"),!0===t&&(u(!1),e.callback())}))},disabled:!c,className:t.retryButton,children:c?"Launch VALORANT":Object(K.jsx)(T.a,{className:t.loading})})})]})})})})},Jt=Object(k.a)((function(e){return{root:{width:"100vw",height:"100vh",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:e.palette.background.default,zIndex:100},main:{width:"400px",height:"200px",display:"flex",flexDirection:"column",alignItems:"center"},content:{display:"flex",flexDirection:"column",flexGrow:1,alignItems:"center"},retryButton:{alignSelf:"center",height:"45px",width:"80%"},buttons:{display:"flex",width:"100%",flexDirection:"column",flexGrow:1,justifyContent:"center"}}}));var Kt=function(e){var t=Jt(),a=(Object(S.a)(),Object(n.useState)("")),i=Object(d.a)(a,2),c=i[0],o=i[1];return Object(n.useEffect)((function(){fetch("https://api.github.com/repos/colinhartigan/valorant-inventory-manager/releases/latest").then((function(e){return e.json()})).then((function(e){console.log(e),o(e.tag_name)}))}),[]),Object(K.jsx)(oe.a,{open:!0,className:t.root,children:Object(K.jsx)(D.a,{in:!0,children:Object(K.jsx)("div",{className:t.main,children:Object(K.jsxs)("div",{className:t.content,children:[Object(K.jsx)(I.a,{variant:"h4",children:"Outdated client"}),Object(K.jsxs)(I.a,{variant:"body1",style:{textAlign:"center",marginTop:"10px"},children:["The VIM client companion is outdated (",g," ","->"," ",c,")"]}),Object(K.jsx)("div",{className:t.buttons,children:Object(K.jsx)(We.a,{target:"_blank",href:"https://github.com/colinhartigan/valorant-inventory-manager/releases/latest",variant:"outlined",color:"primary",className:t.retryButton,children:"View latest release"})})]})})})})},Xt=a(217),Qt=a(214),Zt=Object(k.a)((function(e){return{backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}}));var $t=function(e){var t=Zt();return Object(K.jsx)(oe.a,{className:t.backdrop,open:e.open,children:Object(K.jsx)(Xt.a,{children:Object(K.jsx)(Qt.a,{color:"#ffffff"})})})},ea=Object(u.a)({palette:{type:"dark",primary:{main:"#fa7581"},secondary:{main:"#454545"}},typography:{fontFamily:["Chivo","-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(",")},overrides:{MuiCssBaseline:{"@global":{body:{"&::-webkit-scrollbar":{width:6},"&::-webkit-scrollbar-track":{boxShadow:"inset 0 0 6px rgba(0, 0, 0, 0.3)"},"&::-webkit-scrollbar-thumb":{backgroundColor:"darkgrey",outline:"1px solid slategrey"}}}}}});var ta=function(e){var t=Object(n.useState)(!0),a=Object(d.a)(t,2),i=a[0],c=a[1],o=Object(n.useState)(!0),s=Object(d.a)(o,2),u=s[0],x=s[1],p=Object(n.useState)(!1),O=Object(d.a)(p,2),v=O[0],y=O[1],k=Object(n.useState)(!1),S=Object(d.a)(k,2),C=S[0],N=S[1],_=Object(n.useState)(!1),I=Object(d.a)(_,2),D=I[0],E=I[1],A=Object(n.useState)(!1),L=Object(d.a)(A,2),T=L[0],B=L[1],R=Object(n.useState)(null),G=Object(d.a)(R,2),V=G[0],W=G[1];function F(e){x(!1),setTimeout((function(){c(!1)}),300)}function q(){setTimeout((function(){E(!0),setTimeout((function(){W(null)}),1e3)}),500)}function z(){""!==g&&m.VERSION_CHECK_ENABLED&&(m.SERVER_VERSION_COMPATABILITY.includes(g)?console.log("version matches"):W(Object(K.jsx)(Kt,{})))}function P(){return M.apply(this,arguments)}function M(){return(M=Object(l.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c(!0),x(!0),B(!1),y(!1),W(null),N(!1),E(!1),w.connect().then((function(e){console.log("done"),y(!0),F()})).catch((function(){console.log("caught something"),y(!1),F(),W(Object(K.jsx)(Ht,{retry:P}))}));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function H(){console.log("disconnected"),y(!1),B(!1),W(Object(K.jsx)(Ht,{retry:P}))}function U(){E(!1),B(!1),W(Object(K.jsx)(Yt,{callback:q}))}return Object(n.useEffect)((function(){P(),w.subscribe("onclose",H,!1,"onclose"),w.subscribe("game_not_running",U,!1)}),[]),Object(n.useEffect)((function(){v&&!T&&function(){function e(e){!1===m.BYPASS_ONBOARDING?(console.log("onboarded: ".concat(e)),N(e)):N(!0)}function t(e){console.log("game running: ".concat(e)),E(e),!1===e&&W(Object(K.jsx)(Yt,{callback:q}))}function a(e){console.log("server version: ".concat(e)),console.log("client version: ".concat(m.FRONTEND_VERSION)),g=e,z()}w.request({request:"get_onboarding_state"},e),w.request({request:"get_running_state"},t),w.request({request:"get_server_version"},a)}()}),[v]),Object(n.useEffect)((function(){console.log("checking if ready"),D&&(console.log("ready"),B(!0))}),[C,D]),Object(n.useEffect)((function(){z()}),[g]),Object(K.jsxs)(b.a,{theme:ea,children:[Object(K.jsx)(j.a,{}),V,function(){if(i)return Object(K.jsx)($t,{open:u})}(),T?Object(K.jsxs)(h.a,{basename:"/",children:[Object(K.jsx)(f.b,{exact:!0,path:"/",children:C?Object(K.jsx)(f.a,{to:"/collection"}):Object(K.jsx)(f.a,{to:"/onboarding"})}),Object(K.jsx)(f.b,{path:"/onboarding",children:Object(K.jsx)(Pt,{})}),Object(K.jsx)(f.b,{path:"/collection",children:!0===m.ENABLED_PAGES.collection?Object(K.jsx)(jt,{}):Object(K.jsx)(f.a,{to:"/"})}),Object(K.jsx)(f.b,{path:"/buddies",children:!0===m.ENABLED_PAGES.buddies?Object(K.jsx)(wt,{}):Object(K.jsx)(f.a,{to:"/"})})]}):null]})},aa=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,231)).then((function(t){var a=t.getCLS,n=t.getFID,i=t.getFCP,c=t.getLCP,o=t.getTTFB;a(e),n(e),i(e),c(e),o(e)}))};o.a.render(Object(K.jsx)(i.a.StrictMode,{children:Object(K.jsx)(ta,{})}),document.getElementById("root")),aa()}},[[130,1,2]]]);
//# sourceMappingURL=main.d921f420.chunk.js.map